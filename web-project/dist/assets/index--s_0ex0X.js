import{a as B}from"./axios-upsvKRUO.js";import{d as S,j as y,G as b,r as E,b as r,c as u,e as t,p as q,s as L,m as f,H as j,f as g,E as C,F as $,i as k,t as x,n as A,J as P,_ as I,h as F,K as z,w as H,o as M,B as R,C as V,q as G,z as J}from"./index-BzLU-hWo.js";const N={class:"articles-operation"},O={class:"about-detail-agree"},Q={class:"agree"},W={class:"about-detail-operate"},T={class:"reach"},K={class:"about-detail-copyright"},U={class:"content"},Y={class:"item"},X={class:"item"},Z={class:"item"},tt={class:"about-detail-related"},st={class:"about-detail-related-content"},et={class:"qrcode-content"},at={class:"qrcode-header"},it={class:"qrcode-body"},ot=["src","alt"],nt=S({__name:"index",setup(h){var _;const l=P(),o=(_=l==null?void 0:l.proxy)==null?void 0:_.$message;let a=y(!1);const c=y(!1),d=y("qq"),p=b({hasLiked:!1}),n=m=>{m.hasLiked=!m.hasLiked,m.hasLiked?o==null||o.info("您已经点赞了"):o==null||o.info("您已经取消点赞了")},s=m=>{d.value=m,c.value=!0},i=()=>{c.value=!1};return(m,e)=>{const v=E("SvgIcon");return r(),u("div",N,[t("div",O,[t("div",Q,[t("div",{class:q(["icon",{active:p.hasLiked}]),onClick:e[0]||(e[0]=w=>n(p))},[p.hasLiked?(r(),L(v,{key:1,class:q(["icon-2",{activeIcon:p.hasLiked}]),name:"love-1",width:"28px",height:"28px"},null,8,["class"])):(r(),L(v,{key:0,class:q(["icon-1",{activeIcon:!p.hasLiked}]),name:"love",width:"28px",height:"28px"},null,8,["class"]))],2)])]),t("div",W,[e[6]||(e[6]=t("div",{class:"about-detail-operate-tags"},[t("a",{href:"#"},"kinngyo")],-1)),t("div",{class:q(["about-detail-operate-share",{active:f(a)}]),onMouseover:e[4]||(e[4]=w=>j(a)?a.value=!0:a=!0),onMouseleave:e[5]||(e[5]=w=>j(a)?a.value=!1:a=!1)},[g(v,{class:"icon",name:"share",width:"26px",height:"26px"}),t("div",T,[t("a",{onClick:e[1]||(e[1]=C(w=>s("qq"),["prevent"]))},[g(v,{class:"icon",name:"qq",width:"30px",height:"30px"})]),t("a",{onClick:e[2]||(e[2]=C(w=>s("wechat"),["prevent"]))},[g(v,{class:"icon",name:"wechat",width:"30px",height:"30px"})]),t("a",{onClick:e[3]||(e[3]=C(w=>s("sina"),["prevent"]))},[g(v,{class:"icon",name:"sina",width:"30px",height:"30px"})])])],34)]),t("div",K,[t("div",U,[t("div",Y,[g(v,{class:"icon",name:"qq",width:"18px",height:"18px"}),e[7]||(e[7]=t("span",null," 版权属于：",-1)),e[8]||(e[8]=t("span",{class:"text"},"xiaoshu",-1))]),t("div",X,[g(v,{class:"icon",name:"wechat",width:"18px",height:"18px"}),e[9]||(e[9]=t("span",null," 本文链接：",-1)),e[10]||(e[10]=t("span",{class:"text"},"http:www.baidu.com",-1))]),t("div",Z,[g(v,{class:"icon",name:"qq",width:"18px",height:"18px"}),e[11]||(e[11]=t("span",null," 作品采用：",-1)),e[12]||(e[12]=t("span",{class:"text"},"窝耶布吉岛",-1))])])]),t("div",tt,[e[14]||(e[14]=t("div",{class:"about-detail-related-title"},"相关推荐",-1)),t("div",st,[(r(),u($,null,k(4,w=>t("a",{class:"item",href:"#",key:w},e[13]||(e[13]=[t("div",{class:"img-wrapper"},[t("img",{src:"https://img-baofun.zhhainiao.com/pcwallpaper_ugc/static/7a67dece8aff3b212fa180d8c1f7eac5.jpg?x-oss-process=image%2fresize%2cm_lfit%2cw_1920%2ch_1080",alt:""})],-1),t("h6",null,"金鱼kinngyo---迷路的黑猫-76P-03-18",-1)]))),64))])]),c.value?(r(),u("div",{key:0,class:"qrcode-modal",onClick:C(i,["self"])},[t("div",et,[t("div",at,[t("span",null,x(d.value==="qq"?"QQ":d.value==="wechat"?"微信":"新浪微博")+"扫码分享",1),t("span",{class:"close",onClick:i},"×")]),t("div",it,[t("img",{src:d.value==="qq"?"/qq-qrcode.png":d.value==="wechat"?"/wechat-qrcode.png":"/sina-qrcode.png",alt:d.value+"二维码"},null,8,ot)])])])):A("",!0)])}}}),lt=I(nt,[["__scopeId","data-v-14c95b9c"]]),dt={},rt={class:"articles-interaction"},ct={class:"about-comment"},ut={class:"about-comment-close"};function pt(h,l){const o=E("SvgIcon");return r(),u("div",rt,[l[2]||(l[2]=F('<ul class="about-pagination" data-v-214c0767><li class="about-pagination-item" data-v-214c0767><a href="#" data-v-214c0767>上一篇</a></li><li class="about-pagination-item" data-v-214c0767><a href="#" data-v-214c0767>下一篇</a></li></ul>',1)),t("div",ct,[l[1]||(l[1]=t("h3",{class:"about-comment-title"},"评论 ",-1)),t("div",ut,[g(o,{class:"icon",name:"sina",width:"18px",height:"18px"}),l[0]||(l[0]=t("span",null,"博主关闭了所有页面的评论",-1))])])])}const ht=I(dt,[["render",pt],["__scopeId","data-v-214c0767"]]),mt=S({name:"Waterfall",props:{images:{type:Array,required:!0}},setup(h){const l=y(null),{openPreview:o}=z(),a=b([[],[]]),c=()=>{a[0]=[],a[1]=[],h.images.forEach(n=>{const[s,i]=a.map(_=>_.reduce((m,e)=>m+e.height,0));s<=i?a[0].push(n):a[1].push(n)})},d=(n,s)=>{const i=s.target,_=i.naturalWidth/i.naturalHeight;n.height=Math.floor(l.value.offsetWidth/2/_),c()},p=n=>{o(h.images,n)};return H(()=>h.images,()=>{c()},{deep:!0,immediate:!0}),M(()=>{c()}),{columns:a,onImageLoad:d,containerRef:l,previewImage:p}}}),gt={class:"waterfall-container",ref:"containerRef"},vt=["alt","onLoad","onClick"];function ft(h,l,o,a,c,d){const p=R("img-loader");return r(),u("div",gt,[(r(!0),u($,null,k(h.columns,(n,s)=>(r(),u("div",{class:"column",key:s},[(r(!0),u($,null,k(n,(i,_)=>(r(),u("div",{key:i.id,class:"waterfall-item"},[V(t("img",{alt:"Image "+i.id,style:G({height:i.height+"px"}),onLoad:m=>h.onImageLoad(i,m),onClick:m=>h.previewImage(i.id)},null,44,vt),[[p,i.src]])]))),128))]))),128))],512)}const _t=I(mt,[["render",ft],["__scopeId","data-v-51235ffb"]]),D=(h,l)=>{const o=new Date(h),a=o.getFullYear(),c=o.getMonth()+1,d=o.getDate(),p=o.getHours(),n=o.getMinutes(),s=o.getSeconds();return{yyyy:()=>a,month:()=>c,day:()=>d,hour:()=>p,minute:()=>n,second:()=>s,"yyyy/mm":()=>`${a}/${c.toString().padStart(2,"0")}`,"mm/dd":()=>`${c.toString().padStart(2,"0")}/${d.toString().padStart(2,"0")}`,"yyyy-MM-dd":()=>`${a}-${c.toString().padStart(2,"0")}-${d.toString().padStart(2,"0")}`}[l]()},wt={class:"about-detail"},yt={class:"about-detail-count"},xt={class:"about-detail-count-information"},bt={class:"meta"},$t={class:"author"},kt={href:"",class:"link"},qt={class:"meta-item"},Ct={class:"text"},It={class:"text"},St={class:"text"},Lt={class:"about-detail-count-time"},jt={class:"about-detail-article"},Dt={key:0},Et={key:1,style:{"margin-bottom":"15px"}},Mt=S({__name:"index",setup(h){J();const l=y(!1);b([{id:1,src:"https://img2.baidu.com/it/u=2616208871,393006875&fm=253&fmt=auto&app=138&f=JPEG?w=608&h=973",width:300,height:400},{id:2,src:"https://img2.baidu.com/it/u=1532087881,2389186498&fm=253&fmt=auto?w=500&h=500",width:300,height:500},{id:3,src:"https://t12.baidu.com/it/u=156193264,203812701&fm=30&app=106&f=JPEG?w=640&h=800&s=B83B6091CE035F4F32B86CD3030010BA",width:300,height:350},{id:4,src:"https://wx1.sinaimg.cn/mw690/5ee578f6gy1hswehsh17gj20u014047y.jpg",width:300,height:600},{id:5,src:"https://t10.baidu.com/it/u=1576508285,204896177&fm=30&app=106&f=JPEG?w=640&h=800&s=652A6EFBDE24C0CE8C34A05A0300C0D4",width:300,height:450},{id:6,src:"https://wx1.sinaimg.cn/orj480/6eb0ac52gy1hejp6d1wptj20u01hcjwi.jpg",width:300,height:300}]);let o=b([]),a=b({id:0,avatar_url:"",comments_count:0,tags:"",images_url:[],title:"",type:"",upload_date:"",username:"",views_count:0});const c=y("1");let d=y("");const p=async()=>{try{const n=await B.post("http://localhost:3000/image-list",{id:c.value});if(n.data&&n.data.length>0){let s=n.data[0].images_url;for(let i=0;i<s.length;i++)o.push({id:i,src:s[i].imageUrl,width:300,height:400});a=n.data[0]}d.value=D(a.upload_date,"mm/dd")}catch(n){console.error("Error fetching image list:",n)}};return M(()=>{p()}),(n,s)=>(r(),u("div",null,[t("div",wt,[s[13]||(s[13]=t("div",{class:"about-category"},[t("span",null,"图册")],-1)),s[14]||(s[14]=t("h1",{class:"about-title"},"关于",-1)),t("div",yt,[t("div",xt,[s[2]||(s[2]=t("img",{class:"avatar",src:"https://b0.bdstatic.com/fd8b1444613835e392afbf801c24b0e5.jpg@h_1280",alt:""},null,-1)),t("div",bt,[t("div",$t,[t("a",kt,x(f(a).username),1)]),t("div",qt,[t("span",Ct,x(f(D)(f(a).upload_date,"yyyy-MM-dd")),1),s[0]||(s[0]=t("span",{class:"line"},"/",-1)),t("span",It,x(f(a).comments_count)+" 评论",1),s[1]||(s[1]=t("span",{class:"line"},"/",-1)),t("span",St,x(f(a).views_count)+" 阅读",1)])])]),t("time",Lt,x(f(d)),1)]),t("article",jt,[l.value?(r(),u("div",Dt,[s[5]||(s[5]=t("h2",null,"简介",-1)),s[6]||(s[6]=t("p",null,"名称：xiaoxshu博客",-1)),s[7]||(s[7]=t("p",null,"文案：云想衣裳花想容，春风拂槛露华浓",-1)),s[8]||(s[8]=t("p",null," 定位：她华艳的衣裳如飘逸的云朵，她艳丽的容貌如盛开的花朵，春风拂过栏杆，露珠润泽花色更浓 ",-1)),s[9]||(s[9]=t("h2",null,"资源来源",-1)),s[10]||(s[10]=t("p",null,"主要来自于一些 网络 频道，。",-1)),t("ul",null,[(r(),u($,null,k(3,i=>t("li",{key:i},s[3]||(s[3]=[t("a",{href:""},"@12202000",-1)]))),64))]),s[11]||(s[11]=t("h2",null,"加入频道",-1)),s[12]||(s[12]=t("p",null,"五歌网也有自己的 Telegram 频道",-1)),t("ul",null,[(r(),u($,null,k(1,i=>t("li",{key:i},s[4]||(s[4]=[t("a",{href:""},"@12202000",-1)]))),64))])])):(r(),u("section",Et,[g(_t,{images:f(o)},null,8,["images"])]))]),g(lt)]),g(ht)]))}}),Pt=I(Mt,[["__scopeId","data-v-59ad7178"]]);export{Pt as default};
