import{a as E}from"./axios-upsvKRUO.js";import{A as H}from"./index-BbL5YNBD.js";import{t as F}from"./methods-DEDIBE-t.js";import{d as B,j as s,w as $,A,o as M,k as N,B as T,b as r,c as u,e,F as C,i as j,q as x,m as v,C as z,_ as D,a as O,f as S,p as P,t as R}from"./index-B-SoG97e.js";const U=["src","alt"],V=B({__name:"index",props:{images:{},width:{},height:{},interval:{}},setup(W){const n=W,o=s(0),c=s(null);let l=n.width||600,a=n.height||400;const g=n.interval||3e3,f=s(!0);$(()=>n.width,(t,m)=>{l=t}),$(()=>n.height,(t,m)=>{a=t});const d=A(()=>n.images.length),k=A(()=>({transform:`translateX(-${o.value%d.value*l}px)`,transition:f.value?"transform 0.5s ease":"none"})),b=t=>({width:`${l}px`,height:`${a}px`}),w=()=>{o.value===d.value-1?(f.value=!1,setTimeout(()=>{o.value=0,f.value=!0},500)):o.value+=1},h=()=>{c.value=setInterval(w,g)},y=()=>{c.value&&clearInterval(c.value)},i=F(()=>{h()},200);return M(()=>{h(),window.addEventListener("resize",i)}),N(()=>{y(),window.removeEventListener("resize",i)}),(t,m)=>{const _=T("img-loader");return r(),u("div",{class:"carousel-container",style:x({width:v(l)+"px"}),onMouseenter:y,onMouseleave:h},[e("div",{class:"carousel-wrapper",style:x(k.value)},[(r(!0),u(C,null,j(t.images,(p,I)=>(r(),u("div",{class:"carousel-item",key:I,style:x(b())},[z(e("img",{src:p,alt:"Image "+I,class:"carousel-image"},null,8,U),[[_,p]])],4))),128))],4)],36)}}}),q=D(V,[["__scopeId","data-v-5553ce15"]]),X={class:"shu-mian"},G={class:"shu-content"},J={class:"shu-content-banner"},K={class:"shu-content-banner-recommend"},Q={class:"item"},Y={href:"",class:"thumbnail"},Z={alt:""},ee={class:"item"},te={href:"",class:"thumbnail"},se={alt:""},ae={class:"shu-content-hot"},ie={class:"shu-content-hot-list"},ne={href:"",class:"link"},oe={class:"inner"},ce={class:"image",alt:""},le={class:"shu-content-title"},re=["onClick"],ue=B({__name:"index",setup(W){const n=s([{name:"最新文章",key:"recommend"},{name:"热门文章",key:"hot"},{name:"评论最多",key:"new"},{name:"评论最多",key:"front"},{name:"点赞最多",key:"back"}]),o=s(["https://pic3.zhimg.com/v2-438ae100f06ccf947031b406d84a4f0a_r.jpg","https://img-baofun.zhhainiao.com/pcwallpaper_ugc/static/7a67dece8aff3b212fa180d8c1f7eac5.jpg?x-oss-process=image%2fresize%2cm_lfit%2cw_1920%2ch_1080","https://img-baofun.zhhainiao.com/pcwallpaper_ugc/static/ea1338f685ec2c7b4348ba5e17f08dd0.jpg?x-oss-process=image%2fresize%2cm_lfit%2cw_1920%2ch_1080","https://img-baofun.zhhainiao.com/pcwallpaper_ugc/static/86f3f30c32342a017f699fab73c0481f.jpg?x-oss-process=image%2fresize%2cm_lfit%2cw_1920%2ch_1080","https://img-baofun.zhhainiao.com/pcwallpaper_ugc/static/fb1da048d1b5ebdbcdac2db6a9e69ad8.jpg?x-oss-process=image%2fresize%2cm_lfit%2cw_1920%2ch_1080","https://img-baofun.zhhainiao.com/pcwallpaper_ugc/static/ea73c0013ecd439cccc3aced51ef60d7.jpg?x-oss-process=image%2fresize%2cm_lfit%2cw_1920%2ch_1080"]);let c=s(0),l=s(null);const a=s(null);let g=s(0),f=s(56.0059);const d=s(null),k=i=>{c.value=i,g.value=(l.value[i].offsetWidth+20)*i},b=s(0),w=s(0),h=new ResizeObserver(()=>{a.value&&(w.value=a.value.clientHeight,b.value=a.value.clientWidth)}),y=()=>{d.value&&d.value.readMore()},L=async()=>{try{const i=await E.get("http://localhost:3000/carousel-images");o.value=i.data.images.map(t=>`data:${t.mime_type};base64,${t.url}`)}catch(i){console.log("error",i)}};return M(()=>{a.value&&h.observe(a.value),L()}),O(()=>{a.value&&h.unobserve(a.value)}),(i,t)=>{const m=T("img-loader");return r(),u("div",X,[e("div",G,[e("div",J,[e("div",{class:"swiper-container",ref_key:"swiperContainer",ref:a},[S(q,{images:o.value,width:b.value,height:w.value,interval:3e3},null,8,["images","width","height"])],512),e("div",K,[e("figure",Q,[e("a",Y,[z(e("img",Z,null,512),[[m,"https://b0.bdstatic.com/fd8b1444613835e392afbf801c24b0e5.jpg@h_1280"]])]),t[0]||(t[0]=e("figcaption",{class:"information"},[e("span",{class:"type"},"推荐"),e("div",{class:"text"},"孤帆远影碧空尽，唯见长江天际流。")],-1))]),e("figure",ee,[e("a",te,[z(e("img",se,null,512),[[m,"https://b0.bdstatic.com/fd8b1444613835e392afbf801c24b0e5.jpg@h_1280"]])]),t[1]||(t[1]=e("figcaption",{class:"information"},[e("span",{class:"type"},"推荐"),e("div",{class:"text"},"桃花潭水深千尺，不及汪伦送我情。")],-1))])])]),e("div",ae,[e("ul",ie,[(r(),u(C,null,j(4,_=>e("li",{class:"item",key:_},[e("a",ne,[e("figure",oe,[t[2]||(t[2]=e("span",{class:"views"},"44,800 ℃",-1)),z(e("img",ce,null,512),[[m,"https://b0.bdstatic.com/fd8b1444613835e392afbf801c24b0e5.jpg@h_1280"]]),t[3]||(t[3]=e("figcaption",{class:"title"}," 日照香炉生紫烟，遥看瀑布挂前川。 ",-1))])])])),64))])]),e("div",le,[e("ul",null,[(r(!0),u(C,null,j(n.value,(_,p)=>(r(),u("li",{key:p,class:P(["item",p===v(c)?"active":""]),onClick:I=>k(p),ref_for:!0,ref_key:"tabWidth",ref:l},R(_.name),11,re))),128)),e("li",{class:"line",style:x({left:v(g)+"px",width:v(f)+"px"})},null,4)])]),S(H,{ref_key:"sonArticlesList",ref:d,activeIndex:v(c)},null,8,["activeIndex"])]),e("div",null,[e("div",{class:"shu-pagination",onClick:y},"查看更多")])])}}}),fe=D(ue,[["__scopeId","data-v-56507265"]]);export{fe as default};
